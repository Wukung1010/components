!function(g,I){"object"==typeof exports&&"object"==typeof module?module.exports=I():"function"==typeof define&&define.amd?define([],I):"object"==typeof exports?exports.Page=I():g.Page=I()}(window,function(){return function(g){var I={};function C(A){if(I[A])return I[A].exports;var n=I[A]={i:A,l:!1,exports:{}};return g[A].call(n.exports,n,n.exports,C),n.l=!0,n.exports}return C.m=g,C.c=I,C.d=function(g,I,A){C.o(g,I)||Object.defineProperty(g,I,{enumerable:!0,get:A})},C.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},C.t=function(g,I){if(1&I&&(g=C(g)),8&I)return g;if(4&I&&"object"==typeof g&&g&&g.__esModule)return g;var A=Object.create(null);if(C.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:g}),2&I&&"string"!=typeof g)for(var n in g)C.d(A,n,function(I){return g[I]}.bind(null,n));return A},C.n=function(g){var I=g&&g.__esModule?function(){return g.default}:function(){return g};return C.d(I,"a",I),I},C.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},C.p="",C(C.s=0)}([function(module,exports){eval('function PageComponent(el, option) {\r\n    this._rootEl = el;\r\n    this._option = option;\r\n    this._currentPage = option.currentPage;\r\n    this._totalPage = option.totalPage;\r\n    this._type = option.type || \'default\';\r\n    this._style = option.style || {};\r\n    this._canClick = "can-click";\r\n    this.refs = {};\r\n    this._render = render.bind(this);\r\n    this._pageEL = this._render(\r\n        "ul",\r\n        {\r\n            class: "jtable-page-ul"\r\n        },\r\n        [\r\n            this._render("li", {}, [\r\n                this._render(\r\n                    "a",\r\n                    {\r\n                        class: "jtable-page-pre",\r\n                        ref: "pre_btn"\r\n                    },\r\n                    this._type === \'default\' ?\'上一页\':""\r\n                )\r\n            ]),\r\n            this._render("div", {}, [\r\n                this._render("input", {\r\n                    type: "number",\r\n                    ref: "pager_input",\r\n                    style: {\r\n                        width: this.getInputWidth()\r\n                    },\r\n                    value: this._currentPage\r\n                }),\r\n                this._render("span", {}, "/"),\r\n                this._render("span", {\r\n                    ref: \'pager_span\',\r\n                    style: {\r\n                        \'font-size\': this._style.totalNumSize || \'16px\'\r\n                    }\r\n                }, this._totalPage)\r\n            ]),\r\n            this._render("li", {}, [\r\n                this._render(\r\n                    "a",\r\n                    {\r\n                        class: "jtable-page-next",\r\n                        ref: "next_btn"\r\n                    },\r\n                    this._type === \'default\' ?\'下一页\':""\r\n                )\r\n            ])\r\n        ]\r\n    );\r\n\r\n    el.append(this._pageEL);\r\n\r\n    this.checkBoundary();\r\n\r\n    this.refs.next_btn.addEventListener("click", e => {\r\n        this.goNext(e);\r\n    });\r\n    this.refs.pre_btn.addEventListener("click", e => {\r\n        this.goPre(e);\r\n    });\r\n    this.refs.pager_input.addEventListener("blur", e => {\r\n        let next = null;\r\n        try{\r\n            next = parseInt(this.refs.pager_input.value);\r\n        }catch(e){\r\n            return ;\r\n        }\r\n        if(next !== this._currentPage) {\r\n            this._go(e, next);\r\n        }\r\n    });\r\n\r\n    return {reset: this.reset.bind(this)};\r\n}\r\n\r\nfunction render(name, option, son) {\r\n    let self = this;\r\n    let el = document.createElement(name);\r\n    Object.keys(option).forEach(key => {\r\n        let value = option[key];\r\n        if (key === "ref") {\r\n            self.refs[value] = el;\r\n        } else if (key === "class") {\r\n            el.className = value;\r\n        } else if (key === "style") {\r\n            Object.keys(value).forEach(s => {\r\n                el.style[s] = value[s];\r\n            });\r\n        } else {\r\n            el[key] = value;\r\n        }\r\n    });\r\n    if (son) {\r\n        if (Array.isArray(son)) {\r\n            son.forEach(s => el.append(s));\r\n        } else {\r\n            el.innerHTML = son;\r\n        }\r\n    }\r\n    return el;\r\n}\r\n\r\n/**\r\n * currentPage\r\n * totalPage\r\n */\r\nPageComponent.prototype = {\r\n    goPre(e) {\r\n        this._go(e, this._currentPage - 1);\r\n    },\r\n    goNext(e) {\r\n        this._go(e, this._currentPage + 1);\r\n    },\r\n    _go(e, nextPage) {\r\n        e.preventDefault();\r\n        if(this.refs.pager_input.value == nextPage && this._currentPage == nextPage) return;\r\n        if (!this.checkPageIndex(nextPage)) {\r\n            this.refs.pager_input.value = this._currentPage;\r\n            return;\r\n        }else {\r\n            this.refs.pager_input.value = this._currentPage = nextPage;\r\n        }\r\n        \r\n        let beforeChange = this._option.beforePageChange || (() => true)\r\n        if (!(beforeChange instanceof Promise)) {\r\n            beforeChange = Promise.resolve(beforeChange())\r\n        }\r\n        beforeChange.then(result => {\r\n            if (result) {\r\n                this.currentPageChange(nextPage);\r\n            }\r\n        })\r\n    },\r\n    currentPageChange(nextPage) {\r\n        if (this._option.pageChange) {\r\n            this._option.pageChange(nextPage);\r\n        }\r\n        this.checkBoundary();\r\n    },\r\n    getInputWidth() {\r\n        let len = this._totalPage.toString().length;\r\n        if (len < 2) {\r\n            return "30px";\r\n        } else if (len === 2) {\r\n            return "33px";\r\n        } else {\r\n            return 30 + (len - 2) * 10 + "px";\r\n        }\r\n    },\r\n    checkPageIndex(index) {\r\n        if (index < 1 || index > this._totalPage) {\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    checkBoundary() {\r\n        if (this._currentPage === 1) {\r\n            // 左边界\r\n            this.refs.pre_btn.classList.remove(this._canClick);\r\n        } else {\r\n            this.refs.pre_btn.classList.add(this._canClick);\r\n        }\r\n        if (this._currentPage === this._totalPage) {\r\n            // 右边界\r\n            this.refs.next_btn.classList.remove(this._canClick);\r\n        } else {\r\n            this.refs.next_btn.classList.add(this._canClick);\r\n        }\r\n    },\r\n    reset(config) {\r\n        if(config) {\r\n            this._currentPage = config.currentPage || this._option.currentPage;\r\n            this._totalPage = config.totalPage || this._option.totalPage;\r\n            this.refs.pager_input.style.width = this.getInputWidth();\r\n        }else {\r\n            this._currentPage = this._option.currentPage;\r\n        }\r\n        this.refs.pager_input.value = this._currentPage;\r\n        this.refs.pager_span.innerText = this._totalPage;\r\n\r\n        this.checkBoundary();\r\n    }\r\n};\r\n\r\nmodule.exports.default = module.exports = PageComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9QYWdlLy4vc3JjL3BhZ2UuanM/N2UxNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakIsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gUGFnZUNvbXBvbmVudChlbCwgb3B0aW9uKSB7XHJcbiAgICB0aGlzLl9yb290RWwgPSBlbDtcclxuICAgIHRoaXMuX29wdGlvbiA9IG9wdGlvbjtcclxuICAgIHRoaXMuX2N1cnJlbnRQYWdlID0gb3B0aW9uLmN1cnJlbnRQYWdlO1xyXG4gICAgdGhpcy5fdG90YWxQYWdlID0gb3B0aW9uLnRvdGFsUGFnZTtcclxuICAgIHRoaXMuX3R5cGUgPSBvcHRpb24udHlwZSB8fCAnZGVmYXVsdCc7XHJcbiAgICB0aGlzLl9zdHlsZSA9IG9wdGlvbi5zdHlsZSB8fCB7fTtcclxuICAgIHRoaXMuX2NhbkNsaWNrID0gXCJjYW4tY2xpY2tcIjtcclxuICAgIHRoaXMucmVmcyA9IHt9O1xyXG4gICAgdGhpcy5fcmVuZGVyID0gcmVuZGVyLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9wYWdlRUwgPSB0aGlzLl9yZW5kZXIoXHJcbiAgICAgICAgXCJ1bFwiLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2xhc3M6IFwianRhYmxlLXBhZ2UtdWxcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIoXCJsaVwiLCB7fSwgW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwianRhYmxlLXBhZ2UtcHJlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogXCJwcmVfYnRuXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3R5cGUgPT09ICdkZWZhdWx0JyA/J+S4iuS4gOmhtSc6XCJcIlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBdKSxcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyKFwiZGl2XCIsIHt9LCBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXIoXCJpbnB1dFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcclxuICAgICAgICAgICAgICAgICAgICByZWY6IFwicGFnZXJfaW5wdXRcIixcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5nZXRJbnB1dFdpZHRoKClcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9jdXJyZW50UGFnZVxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXIoXCJzcGFuXCIsIHt9LCBcIi9cIiksXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXIoXCJzcGFuXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICByZWY6ICdwYWdlcl9zcGFuJyxcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogdGhpcy5fc3R5bGUudG90YWxOdW1TaXplIHx8ICcxNnB4J1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIHRoaXMuX3RvdGFsUGFnZSlcclxuICAgICAgICAgICAgXSksXHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcihcImxpXCIsIHt9LCBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJqdGFibGUtcGFnZS1uZXh0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogXCJuZXh0X2J0blwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90eXBlID09PSAnZGVmYXVsdCcgPyfkuIvkuIDpobUnOlwiXCJcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgXSlcclxuICAgICAgICBdXHJcbiAgICApO1xyXG5cclxuICAgIGVsLmFwcGVuZCh0aGlzLl9wYWdlRUwpO1xyXG5cclxuICAgIHRoaXMuY2hlY2tCb3VuZGFyeSgpO1xyXG5cclxuICAgIHRoaXMucmVmcy5uZXh0X2J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgdGhpcy5nb05leHQoZSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMucmVmcy5wcmVfYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcclxuICAgICAgICB0aGlzLmdvUHJlKGUpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLnJlZnMucGFnZXJfaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgZSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQgPSBudWxsO1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgbmV4dCA9IHBhcnNlSW50KHRoaXMucmVmcy5wYWdlcl9pbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgfWNhdGNoKGUpe1xyXG4gICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihuZXh0ICE9PSB0aGlzLl9jdXJyZW50UGFnZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9nbyhlLCBuZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge3Jlc2V0OiB0aGlzLnJlc2V0LmJpbmQodGhpcyl9O1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXIobmFtZSwgb3B0aW9uLCBzb24pIHtcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XHJcbiAgICBPYmplY3Qua2V5cyhvcHRpb24pLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBsZXQgdmFsdWUgPSBvcHRpb25ba2V5XTtcclxuICAgICAgICBpZiAoa2V5ID09PSBcInJlZlwiKSB7XHJcbiAgICAgICAgICAgIHNlbGYucmVmc1t2YWx1ZV0gPSBlbDtcclxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XHJcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9IHZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcclxuICAgICAgICAgICAgT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2gocyA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbC5zdHlsZVtzXSA9IHZhbHVlW3NdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAoc29uKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc29uKSkge1xyXG4gICAgICAgICAgICBzb24uZm9yRWFjaChzID0+IGVsLmFwcGVuZChzKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gc29uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBlbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIGN1cnJlbnRQYWdlXHJcbiAqIHRvdGFsUGFnZVxyXG4gKi9cclxuUGFnZUNvbXBvbmVudC5wcm90b3R5cGUgPSB7XHJcbiAgICBnb1ByZShlKSB7XHJcbiAgICAgICAgdGhpcy5fZ28oZSwgdGhpcy5fY3VycmVudFBhZ2UgLSAxKTtcclxuICAgIH0sXHJcbiAgICBnb05leHQoZSkge1xyXG4gICAgICAgIHRoaXMuX2dvKGUsIHRoaXMuX2N1cnJlbnRQYWdlICsgMSk7XHJcbiAgICB9LFxyXG4gICAgX2dvKGUsIG5leHRQYWdlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGlmKHRoaXMucmVmcy5wYWdlcl9pbnB1dC52YWx1ZSA9PSBuZXh0UGFnZSAmJiB0aGlzLl9jdXJyZW50UGFnZSA9PSBuZXh0UGFnZSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICghdGhpcy5jaGVja1BhZ2VJbmRleChuZXh0UGFnZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZzLnBhZ2VyX2lucHV0LnZhbHVlID0gdGhpcy5fY3VycmVudFBhZ2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcy5wYWdlcl9pbnB1dC52YWx1ZSA9IHRoaXMuX2N1cnJlbnRQYWdlID0gbmV4dFBhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBiZWZvcmVDaGFuZ2UgPSB0aGlzLl9vcHRpb24uYmVmb3JlUGFnZUNoYW5nZSB8fCAoKCkgPT4gdHJ1ZSlcclxuICAgICAgICBpZiAoIShiZWZvcmVDaGFuZ2UgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xyXG4gICAgICAgICAgICBiZWZvcmVDaGFuZ2UgPSBQcm9taXNlLnJlc29sdmUoYmVmb3JlQ2hhbmdlKCkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJlZm9yZUNoYW5nZS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2VDaGFuZ2UobmV4dFBhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBjdXJyZW50UGFnZUNoYW5nZShuZXh0UGFnZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb24ucGFnZUNoYW5nZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb24ucGFnZUNoYW5nZShuZXh0UGFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hlY2tCb3VuZGFyeSgpO1xyXG4gICAgfSxcclxuICAgIGdldElucHV0V2lkdGgoKSB7XHJcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMuX3RvdGFsUGFnZS50b1N0cmluZygpLmxlbmd0aDtcclxuICAgICAgICBpZiAobGVuIDwgMikge1xyXG4gICAgICAgICAgICByZXR1cm4gXCIzMHB4XCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChsZW4gPT09IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiMzNweFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAzMCArIChsZW4gLSAyKSAqIDEwICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjaGVja1BhZ2VJbmRleChpbmRleCkge1xyXG4gICAgICAgIGlmIChpbmRleCA8IDEgfHwgaW5kZXggPiB0aGlzLl90b3RhbFBhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBjaGVja0JvdW5kYXJ5KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50UGFnZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAvLyDlt6bovrnnlYxcclxuICAgICAgICAgICAgdGhpcy5yZWZzLnByZV9idG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jYW5DbGljayk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZzLnByZV9idG4uY2xhc3NMaXN0LmFkZCh0aGlzLl9jYW5DbGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50UGFnZSA9PT0gdGhpcy5fdG90YWxQYWdlKSB7XHJcbiAgICAgICAgICAgIC8vIOWPs+i+ueeVjFxyXG4gICAgICAgICAgICB0aGlzLnJlZnMubmV4dF9idG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jYW5DbGljayk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZzLm5leHRfYnRuLmNsYXNzTGlzdC5hZGQodGhpcy5fY2FuQ2xpY2spO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZXNldChjb25maWcpIHtcclxuICAgICAgICBpZihjb25maWcpIHtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBhZ2UgPSBjb25maWcuY3VycmVudFBhZ2UgfHwgdGhpcy5fb3B0aW9uLmN1cnJlbnRQYWdlO1xyXG4gICAgICAgICAgICB0aGlzLl90b3RhbFBhZ2UgPSBjb25maWcudG90YWxQYWdlIHx8IHRoaXMuX29wdGlvbi50b3RhbFBhZ2U7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcy5wYWdlcl9pbnB1dC5zdHlsZS53aWR0aCA9IHRoaXMuZ2V0SW5wdXRXaWR0aCgpO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBhZ2UgPSB0aGlzLl9vcHRpb24uY3VycmVudFBhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVmcy5wYWdlcl9pbnB1dC52YWx1ZSA9IHRoaXMuX2N1cnJlbnRQYWdlO1xyXG4gICAgICAgIHRoaXMucmVmcy5wYWdlcl9zcGFuLmlubmVyVGV4dCA9IHRoaXMuX3RvdGFsUGFnZTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGVja0JvdW5kYXJ5KCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlLmV4cG9ydHMgPSBQYWdlQ29tcG9uZW50O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')}])});